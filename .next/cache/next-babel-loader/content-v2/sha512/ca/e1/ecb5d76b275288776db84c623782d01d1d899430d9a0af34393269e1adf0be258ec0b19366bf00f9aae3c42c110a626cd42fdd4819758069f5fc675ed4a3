{"ast":null,"code":"// api/new-meetup\n// POST api/new-meetup\nimport { MongoClient } from \"mongodb\";\n\nasync function handeler(req, res) {\n  if (req.method === \"POST\") {\n    //  Geeting data for post\n    const data = req.body; //connect to usermongodb & create databse with name \"meetup\"\n\n    const client = await MongoClient.connect(\"mongodb+srv://meet:mnXyMojHjW7ymLmt@cluster0.gyf4z.mongodb.net/meetup?retryWrites=true&w=majority\");\n    console.log(\"cli\", client); //Redirect to client database\n\n    const db = client.db(); //Redirect table(Collection) With name \"MEETUP\"\n\n    const meetupcollection = db.collection(\"meetupdata\"); //insert data to \"meetupdata\"\n\n    const result = await meetupcollection.insertOne(data);\n    console.log(result.ok); //close connnection\n\n    client.close(); //sending response\n\n    res.status(201).json({\n      msg: \"dsta inserted\"\n    });\n  }\n}\n\nexport default handeler;","map":null,"metadata":{},"sourceType":"module"}